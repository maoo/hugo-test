<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Quickstart - build your own integration - Symphony Integrations official documentation!!!</title>
    <meta name="generator" content="Hugo 0.22" />

    
    <meta name="description" content="Symphony Integrations documentation.">
    
    <link rel="canonical" href="http://blog.session.it/hugo-test/quickstart/">
    
    <meta name="author" content="Symphony LLC">
    

    <meta property="og:url" content="http://blog.session.it/hugo-test/quickstart/">
    <meta property="og:title" content="Symphony Integrations official documentation!!!">
    <meta property="og:image" content="http://blog.session.it/SymphonyLlcSymbol.png">
    <meta name="apple-mobile-web-app-title" content="Symphony Integrations official documentation!!!">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="http://blog.session.it/hugo-test/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="http://blog.session.it/hugo-test/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('http://blog.session.it/hugo-test/fonts/icon.eot');
        src: url('http://blog.session.it/hugo-test/fonts/icon.eot')
               format('embedded-opentype'),
             url('http://blog.session.it/hugo-test/fonts/icon.woff')
               format('woff'),
             url('http://blog.session.it/hugo-test/fonts/icon.ttf')
               format('truetype'),
             url('http://blog.session.it/hugo-test/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="http://blog.session.it/hugo-test/stylesheets/application.css">
    <link rel="stylesheet" href="http://blog.session.it/hugo-test/stylesheets/temporary.css">
    <link rel="stylesheet" href="http://blog.session.it/hugo-test/stylesheets/palettes.css">
    <link rel="stylesheet" href="http://blog.session.it/hugo-test/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="http://blog.session.it/hugo-test/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-grey palette-accent-teal">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Quickstart - build your own integration
      </div>
    </div>

    
    <div class="button button-twitter" role="button" aria-label="Twitter">
       <a href="https://twitter.com/symphonyOSS" title="@symphonyOSS on Twitter" target="_blank" class="toggle-button icon icon-twitter"></a>
    </div>
    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/symphonyoss" title="@symphonyoss on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="http://blog.session.it/hugo-test" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="http://blog.session.it/hugo-test/SymphonyLlcSymbol.png">
        </div>
      
      <div class="name">
        <strong>Symphony Integrations official documentation!!! </strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Welcome" href="http://blog.session.it/hugo-test/">
	
	Welcome
</a>



  
</li>



<li>
  
    



<a  title="Architecture" href="http://blog.session.it/hugo-test/architecture/">
	
	Architecture
</a>



  
</li>



<li>
  
    <span class="section">Integrations</span>
    <ul>
      
        
        



<a  title="Github" href="http://blog.session.it/hugo-test/integrations/github">
	
	Github
</a>



      
        
        



<a  title="JIRA" href="http://blog.session.it/hugo-test/integrations/jira">
	
	JIRA
</a>



      
        
        



<a  title="Trello" href="http://blog.session.it/hugo-test/integrations/trello">
	
	Trello
</a>



      
        
        



<a  title="Salesforce" href="http://blog.session.it/hugo-test/integrations/salesforce">
	
	Salesforce
</a>



      
        
        



<a  title="Universal" href="http://blog.session.it/hugo-test/integrations/universal">
	
	Universal
</a>



      
        
        



<a  title="Zapier" href="http://blog.session.it/hugo-test/integrations/zapier">
	
	Zapier
</a>



      
    </ul>
  
</li>



<li>
  
    



<a class="current" title="Build your own" href="http://blog.session.it/hugo-test/quickstart/">
	
	Build your own
</a>


<ul id="scrollspy">
</ul>


  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          
          <li>
            <a href="https://twitter.com/symphonyOSS" target="_blank" title="@symphonyOSS on Twitter">
              @symphonyOSS on Twitter
            </a>
          </li>
          

          
          <li>
            <a href="https://github.com/symphonyoss" target="_blank" title="@symphonyoss on GitHub">
              @symphonyoss on GitHub
            </a>
          </li>
          

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Quickstart - build your own integration </h1>

			

<p>This page will guide a developer to build an integration module to be used with the <a href="https://github.com/symphonyoss/App-Integrations-Core">Integration Bridge</a>, using the <a href="https://github.com/symphonyoss/App-Integrations-Zapier">Symphony-Zapier integration</a> as example:</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>Installation prerequisites:</p>

<ul>
<li>JDK 1.8</li>
<li><a href="https://maven.apache.org">Maven 3.0.5+</a></li>
<li>Node 6.10+</li>
<li>Gulp (globally installed)</li>
<li>Webpack (globally installed)</li>
</ul>

<p>Symphony Pod access prerequisites:</p>

<ul>
<li>Access to a Symphony Pod to be used for development and testing purposes

<ul>
<li>User Account (username/password credentials)</li>
<li>Service Account (*.p12 User Identity certificate and certificate password)</li>
<li>Symphony API (Agent, Pod, Sessionauth, Keymanager) endpoints (ask your Symphony Pod Administrator), reachable from your current workstation</li>
</ul></li>
<li>.p12 file is located in a local <code>certs/</code> folder (make sure you add <code>certs/</code> in your <code>.gitignore</code> file) and password is validated (use the command <code>openssl pkcs12 -info -in &lt;certname.p12&gt;</code>)</li>
<li>an <code>env.sh</code> file is located in the root location of the project and contains all Symphony Pod endpoints and passwords mentioned above; start from <a href="https://github.com/symphonyoss/App-Integrations-Zapier/blob/dev/local-run/env.sh.sample">env.sh.sample</a> running <code>cp local-run/env.sh.sample env.sh</code></li>
</ul>

<h2 id="creating-the-code-repository">Creating the code repository</h2>

<p>Clone the source repository of an existing integration to use as skeleton or start from scratch.</p>

<pre><code class="language-sh">git clone git@github.com:symphonyoss/App-Integrations-Zapier.git
cd App-Integrations-Zapier
mvn clean install
</code></pre>

<h2 id="run-locally">Run locally</h2>

<p>Make sure that:</p>

<ul>
<li><code>certs/</code> folder contains a .p12 file</li>
<li><code>env.sh</code> values are all validated (see above)</li>
</ul>

<p>To start the integration locally, just invoke <code>./run.sh</code> from the project root directory.</p>

<p>This command will create an <code>application.yaml</code> file in the project root folder, using <a href="https://github.com/symphonyoss/App-Integrations-Zapier/blob/dev/local-run/application.yaml.template"><code>local-run/application.yaml.template</code></a> as template.</p>

<h2 id="expose-local-endpoint-to-a-public-host">Expose local endpoint to a public host</h2>

<p>In order to be able to create the app in the Foundation pod, you must provide a public <code>App Url</code>; you can use <a href="https://ngrok.com/">ngrok</a> (or similar) to tunnel your local connection and expose it via a public DNS:</p>

<pre><code>ngrok http 8080
</code></pre>

<p>Your local port 8080 is now accessible via <code>&lt;dynamic_id&gt;.ngrok.io</code></p>

<p>If you have a paid subscription, you can also use</p>

<pre><code>ngrok http -subdomain=my.static.subdomain 8080
</code></pre>

<h2 id="add-your-locally-running-application-to-the-symphony-market">Add your locally running application to the Symphony Market</h2>

<p>Adjust your <a href="https://github.com/symphonyoss/App-Integrations-Zapier/blob/dev/src/main/webapp/bundle.json">bundle.json</a> located <code>src/main/webapp/</code> with the URL you are exposing via ngrok, the configuration and bot id&rsquo;s, and the application context.</p>

<p>**Note: The team is working on a integration-provisioning module that will automate this process; until further notice, please contact Symphony Support to get your configuration and bot id&rsquo;s.</p>

<p>For the application context, it should match what you have on <a href="https://github.com/symphonyoss/App-Integrations-Zapier/blob/dev/src/main/resources/application-zapier.yml">application-zapier.yml</a></p>

<p>For instance, see apps/zapier present in the URL&rsquo;s for the controller.html and appstore-logo.png, as well as in the <strong>context</strong> query parameter for the controller:</p>

<pre><code class="language-json">{
  &quot;applications&quot;: [
    {
      &quot;type&quot;: &quot;sandbox&quot;,
      &quot;id&quot;: &quot;devZapierWebHookIntegration&quot;,
      &quot;name&quot;: &quot;Zapier&quot;,
      &quot;blurb&quot;: &quot;Zapier Webhook Integration in Development Mode&quot;,
      &quot;publisher&quot;: &quot;Symphony&quot;,
      &quot;url&quot;: &quot;https://d74a790c.ngrok.io/apps/zapier/controller.html?configurationId=58598bf8e4b057438e69f517&amp;botUserId=346621040656485&amp;id=devZapierWebHookIntegration&amp;context=apps/zapier&quot;,
      &quot;icon&quot;: &quot;https://d74a790c.ngrok.io/apps/zapier/img/appstore-logo.png&quot;,
      &quot;domain&quot;: &quot;.ngrok.io&quot;
    }
  ]
}
</code></pre>

<p>Access the application icon on your browser to make sure it works and to accept any unsafe certificates (if necessary). In the above example, the URL to acces is <code>https://d74a790c.ngrok.io/img/appstore-logo.png</code>.</p>

<p><strong>Run your application again as indicated above, to get the new bundle.js information packaged.</strong></p>

<p>Launch the Symphony client on your browser, adding your bundle.js as path of the query parameters in the URL. For instance, using the Foundation Dev Pod with the above ngrok sample URL: <code>https://foundation-dev.symphony.com?bundle=https://d74a790c.ngrok.io/apps/zapier/bundle.json</code>.</p>

<p>Access the Symphony Market on the browser, and you should be notified to allow unauthorized apps. That is your development app added through bundle.json. Accept the notification and you should see your application in the application list, with the name and description provided in the bundle.json.</p>

<h2 id="developing-your-own-webhook-configuration-flow">Developing your own webhook configuration flow</h2>

<p>The application added to the Symphony Market is commonly referred to as the Configurator Application, as it allows the user to configure the webhooks for a 3rd party integration.</p>

<p>Zapier Configurator Application is based on the out-of-the-box flow provided by <a href="https://github.com/symphonyoss/App-Integrations-FE-Commons">App-Integrations-FE-Commons</a>, which includes a complete set of views that allow users to manage the webhooks for an integration. Zapier Configurator App implementation involves the following files, and it is based on the <a href="https://github.com/symphonyoss/App-Integrations-FE-Commons/tree/dev/samples/out-of-the-box-configurator">out-of-the-box-configurator sample</a>:</p>

<ul>
<li><a href="https://github.com/symphonyoss/App-Integrations-Zapier/blob/dev/.babelrc">.babelrc</a></li>
<li><a href="https://github.com/symphonyoss/App-Integrations-Zapier/blob/dev/.eslint">.eslint</a></li>
<li><a href="https://github.com/symphonyoss/App-Integrations-Zapier/blob/dev/package.json">package.json</a></li>
<li><a href="https://github.com/symphonyoss/App-Integrations-Zapier/blob/dev/webpack.config.js">webpack.config.js</a></li>
<li><a href="https://github.com/symphonyoss/App-Integrations-Zapier/blob/dev/webpack.config.prod.js">webpack.config.prod.js</a></li>
<li><a href="https://github.com/symphonyoss/App-Integrations-Zapier/blob/dev/src/main/webapp">src/main/webapp</a></li>
</ul>

<p>It is also possible to customize the views and flows for your Configurator App. Check the <a href="https://github.com/symphonyoss/App-Integrations-FE-Commons/tree/dev/samples/posting-location-sample">posting-location sample</a> for an example on how to do that.</p>

<h3 id="running-with-intellij">Running with Intellij</h3>

<p>TODO</p>

<h2 id="application-healthcheck">Application healthcheck</h2>

<p>To validate if your application were bootstrapped successfully you can reach on the application health check using
the URL <code>http://localhost:8080/integration/health</code></p>

<p>The application health will indicate the connectivity and compatibility for each service you want to communicate like POD, Key Manager, and Agent. You also could check the application health, the configurator URL&rsquo;s, application flags, and latest posted message timestamp.</p>

<p>This is the result from healthcheck:</p>

<pre><code class="language-json">{
  &quot;status&quot;: &quot;UP&quot;,
  &quot;message&quot;: &quot;Success&quot;,
  &quot;version&quot;: &quot;0.13.0-SNAPSHOT&quot;,
  &quot;services&quot;: {
    &quot;Agent&quot;: {
      &quot;connectivity&quot;: &quot;UP&quot;,
      &quot;currentVersion&quot;: &quot;1.46.0&quot;,
      &quot;minVersion&quot;: &quot;1.44.0&quot;,
      &quot;compatibility&quot;: &quot;OK&quot;
    },
    &quot;POD&quot;: {
      &quot;connectivity&quot;: &quot;UP&quot;,
      &quot;currentVersion&quot;: &quot;1.46.0&quot;,
      &quot;minVersion&quot;: &quot;1.44.0&quot;,
      &quot;compatibility&quot;: &quot;OK&quot;
    },
    &quot;Key Manager&quot;: {
      &quot;connectivity&quot;: &quot;UP&quot;,
      &quot;currentVersion&quot;: &quot;1.46.0&quot;,
      &quot;minVersion&quot;: &quot;1.44.0&quot;,
      &quot;compatibility&quot;: &quot;OK&quot;
    }
  },
  &quot;applications&quot;: [
    {
      &quot;name&quot;: &quot;zapier&quot;,
      &quot;version&quot;: &quot;0.13.0-SNAPSHOT&quot;,
      &quot;status&quot;: &quot;ACTIVE&quot;,
      &quot;message&quot;: &quot;Success&quot;,
      &quot;configurator&quot;: {
        &quot;loadUrl&quot;: &quot;https://d74a790c.ngrok.io/apps/zapier/controller.html&quot;,
        &quot;iconUrl&quot;: &quot;https://d74a790c.ngrok.io/apps/zapier/img/appstore-logo.png&quot;
      },
      &quot;flags&quot;: {
        &quot;parser_installed&quot;: &quot;OK&quot;,
        &quot;configurator_installed&quot;: &quot;OK&quot;,
        &quot;certificate_installed&quot;: &quot;OK&quot;,
        &quot;user_authenticated&quot;: &quot;OK&quot;
      },
      &quot;latestPostTimestamp&quot;: &quot;2017-05-29T16:30:44Z-0300&quot;
    }
  ]
}
</code></pre>

<h2 id="yaml-configuration-file">YAML Configuration File</h2>

<p>TODO</p>

<h2 id="build-a-new-integration">Build a new integration</h2>

<p>TODO</p>

<h2 id="build-the-configurator-app">Build the Configurator APP</h2>

<p>TODO</p>

<h2 id="inspect-incoming-payloads">Inspect incoming payloads</h2>

<p>TODO</p>

<h2 id="messageml-v2">MessageML v2</h2>

<p>TODO</p>


			<aside class="copyright" role="note">
				
				&copy; 2017 Released under the Apache 2.0 license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="http://blog.session.it/hugo-test/integrations/trello/" title="Trello Integration">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Trello Integration
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="http://blog.session.it/hugo-test/integrations/universal/" title="Universal Integration">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Universal Integration
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="http://blog.session.it/hugo-test/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

